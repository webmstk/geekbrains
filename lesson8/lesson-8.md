### Задания к занятию 8

* Создание собственного Gem-а (библиотеки)
* Переменные экземпляра класса



#### Создание собственного Gem-а (библиотеки)

На практике бывает полезно создать свой собственный Gem. Например для того чтобы использовать повторяющуюся функциональность в ваших проектах или поделиться ею с миром. Каких-либо ограничений на содержание Gem-а нет, поэтому вы можете создать Gem из любого Ruby проекта. Для этого необходимо выполнить следующую последовательность действий:

1. Создать в корне проекта файл `<project_name>.gemspec`
2. В этой файле описать спецификацию Gem-а с помощью [RubyGems API]
3. Собрать Gem командой `gem build <project_name>.gemspec`
4. Установить Gem командой 'gem install <path/to/gem>.gem'

Файл с расширением `*.gemspec` является файлом с обыкновенным Ruby кодом и описывает спецификацию Gem-а с помощью [RubyGems API]. Минимальный набор методов для успешной сборки Gem-а выглядит так:

```ruby
# running_track.gemspec

Gem::Specification.new do |s|
  s.name        = 'example'
  s.version     = '0.1.0'
  s.licenses    = ['MIT']
  s.summary     = "This is an example!"
  s.description = "Much longer explanation of the example!"
  s.authors     = ["Ruby Coder"]
  s.email       = 'rubycoder@example.com'
  s.files       = ["lib/example.rb"]
  s.homepage    = 'https://rubygems.org/gems/example'
end
```

Наиболее значимым является метод `files=` который принимает аргумент в виде массива с перечислением **всех** файлов, которые будут включены в состав вашей библиотеки.

После сборки библиотеки вы сможете [отправить](http://guides.rubygems.org/publishing/) ваш Gem на http://rubygems.org с помощью команды `gem push <path/to/gem>.gem`, и Gem сможет использоваться разработчиками по всему миру!



#### 1. Проверка правописания

Напишите Gem для проверки правописания с помощью [Яндекс.Спеллер API]. Опубликуйте его на http://rubygems.org. Напишите тесты с помощью [RSpec].



#### 2. Работа с данными о беговых дорожках становится лучше

Наделите проект `RunningTrack` дополнительной функциональностью:

* Создайте класс `Track` для представления беговой дорожки

* Класс `Track` должен переопределять метод `to_s` для вывода информации о беговой дорожке в виде строки

* Необходимо обрабатывать исключения, если превышен таймаут обращения к серверу, если в ответе нет данных

* Модуль `RunningTrack` должен определять метод `find` для поиска беговых дорожек по каким-либо условиям, например, наличию wi-fi

* Модуль `RunningTrack` должен реализовывать метод `random(count = 1)` для выбора заданного количества случайных беговых дорожек

* Класс `Track` должен описывать следующие состояния для своих объектов:

  * `unknown`
  * `good`
  * `normal`
  * `bad`

и события для перевода из состояния `unknown` в одно из других

* Модуль `RunningTrack` должен содержать методы `save!` и `load!` для сохранения объектов `RunningTrack::Track` в файл формата `*.yml` и загрузки данных из него



#### 3. Сброс кэширования через время

Для проекта `RunningTrack` реализуйте механизм, который позволяет сбрасывать кэш через заданное количество времени. В качестве ретроспективы помните: кэш реализуется с помощью обычного хэша который хранится в памяти переменной экземпляра модуля `RunningTrack`.


<!-- Links -->

[Конечный автомат]: https://ru.wikipedia.org/wiki/Конечный_автомат
[RubyGems]: http://guides.rubygems.org
[Rails]: http://rubyonrails.org
[RubyGems API]: http://guides.rubygems.org/make-your-own-gem/
[Яндекс.Спеллер API]: http://api.yandex.ru/speller/doc/dg/reference/checkText.xml
[RSpec]: http://rspec.info
